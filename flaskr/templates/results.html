<!doctype html>
<html>
<title>Results page</title>
<link rel=stylesheet type=text/css href="{{ url_for('static' , filename= 'styles.css') }}">
  <body>
    <div class=page>
      <h1>RESULTS</h1>
      <h2>TBD</h2>
      <div class="progress">
        <div class="status">
          <h2 id="innerStatus">Loading...</h2>
        </div>
    </div>
      
    </div>

    <script>
      async function getStatus() {
        let get;
        //try to get information from json
        try {
          const res = await fetch("/status");
          get = await res.json();
        } catch (e) {
          console.error("Error: ", e);
        }

        //element update
        document.getElementById("innerStatus").innerHTML = get.status * 10 + "&percnt;";

        //max status
        if (get.status == 10){
          document.getElementById("innerStatus").innerHTML += " MAXIMUM BASIC";
          clearTimeout(timeout);
          return false;
        }

        timeout = setTimeout(getStatus, 1000);
      }
    </script>
  </body>
</html>